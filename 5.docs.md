# Documentation Protocol – Clear Technical Docs

This protocol defines how documentation is organized and maintained for the Big Picture project, and how AI assists with keeping it current.

---

## Doc classes

- `README.md`
  - High-level project overview.
  - How to build, run, and play Big Picture (quickstart).
  - Links to key docs: `spec/`, `CONTEXT.md`, `docs/`.
- `spec/*.md`
  - Feature-level specs and acceptance criteria.
  - Example: `spec/big-picture.md` for lobby, turns, image flow, and evaluation.
- `CONTEXT.md`
  - Architecture and conventions.
  - Tech stack, module layout, naming rules, error handling and logging approach.
  - Constraints (Rust only, Godot + Rust bindings, no JS).
- `docs/`
  - Deeper guides and reference docs:
    - `docs/architecture.md` – diagrams and narrative of components and data flow.
    - `docs/domain-model.md` – Big Picture domain concepts, entities, and invariants.
    - `docs/running-and-deploying.md` – operations, environments, configs.
    - `docs/testing-strategy.md` – how tests are structured and run.
- Rust API documentation (rustdoc)
  - Generated from Rust source using `cargo doc` and rustdoc.[web:1]
  - Serves as API-level reference for modules, types, and functions.

---

## Rules

### 1. Spec-first

- Before implementing a non-trivial feature or changing behavior:
  - Create or update `spec/<feature>.md` (for Big Picture: `spec/big-picture.md`).
  - Ensure the spec includes:
    - Clear goal and scope.
    - Acceptance criteria in Given/When/Then or similar form.
    - Any relevant constraints or open questions.

- For small fixes:
  - If the fix changes user-visible behavior or game rules, update the spec.
  - If it is purely internal (e.g., performance, refactor), document in code comments and rustdoc where appropriate.

### 2. Always backfill docs

- After merging a change that affects behavior or architecture:
  - Update:
    - The relevant `spec/<feature>.md` section.
    - `README.md` if quickstart or top-level behavior changed.
    - Any related `docs/*.md` files (architecture, domain model, operations) as needed.

- When in doubt:
  - Prefer adding a short paragraph or bullet to an existing section over creating a completely new document.
  - If a document grows too large, split it into focused docs under `docs/` and link them from `README.md`.

### 3. Use AI as a doc assistant

Use AI to help draft and refactor docs, but keep human review as the final gate.

- **From code changes (diffs) to docs**
  - Prompt template:
    - “Here is a git diff. Identify behavior and architecture changes. Propose updates to
